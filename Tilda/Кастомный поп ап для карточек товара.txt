https://www.youtube.com/watch?v=44cEeV7yEP8


- Создать главный zero блок со всеми карточками товаров
- Для каждой карточки товара создать отдельный zero блок - кастомный поп ап. 
Например, это могут быть: подложка, кнопка "добавить в корзину" и фото элемента товара 
- Создать встроенный блок BF503 (поп ап окно) для вызова карточки товара
- Создать блок T123 и применить код ниже.
- ID блока T123 копируется и вставляется в код в нем (в 14 строке). Из открытого сейчас кода, сразу можно скопировать ссылку параметра href и вставить её в поле для ссылки встроенного поп ап окна BF503 для вызова собственного поп апа.
- Скопировать id блоков каждого поп апа (каждого отдельного блока карточки товара) и вставить их соответствующим элементам в коде блока T123 (где-то на 20 строке), при этом, перечисленные id разделены запятой, но после последнего в списке id, запятая не ставится.
Каждое название элементов затем применяется в качестве URL для своего товара в главном блоке товаров
- Подключение кнопки "добавить в корзину". Применяется id #order:название товара = стоимость или tilda UID товара из котолога (подробнее в инструкции к корзине) и устанавливается для соответствующей кнопки каждого отдельного поп ап блока






﻿<style> 
  .shirina{ 
    background:none !important; right: 0 !important;left: 0 !important;}   
  .parpadding{padding:0 !important;} 
  .tn-atom .t-form__errorbox-wrapper, .tn-form__errorbox-popup , .t-form-success-popup { 
   z-index: 9999999 !important; 
  } 
.t390 .t-popup__close { display: none;} 
</style> 
  
<a class="zeropopup" href="#popup:zero"></a> 
<script> 
$( document ).ready(function() { 
var PopWindID = '#rec592137316  .t-popup__container'; 
$(PopWindID).empty(); 
$(PopWindID).addClass('shirina').parent('.t-popup').addClass('parpadding'); 
 var zeroelem=0; var firstcall=true;var zeroid=0;  
 var ZeroPopID = { 
 
 "#popupzero-1":"#rec592137249" 
    
}; 
  
$.each(ZeroPopID, function( key, value ) { $(value).addClass('pZero').hide();}); 
$(document).on('click',' a[href^="#popupzero"]  ',function(e){  e.preventDefault(); 
  
 zeroid = ZeroPopID[$(this).attr('href')] 
 if (zeroid==zeroelem || firstcall){ 
      $($(ZeroPopID[$(this).attr('href')])).appendTo(PopWindID); 
      $(ZeroPopID[$(this).attr('href')]).show();$('.zeropopup')[0].click(); 
      firstcall=false;zeroelem=zeroid;$('.t396').trigger('displayChanged'); 
 }else{ 
     $(zeroelem).hide(); 
     $($(ZeroPopID[$(this).attr('href')])).appendTo(PopWindID); 
     $(ZeroPopID[$(this).attr('href')]).show();$('.zeropopup')[0].click();zeroelem=zeroid; 
     $('.t396').trigger('displayChanged'); 
}; 
}); 
$(document).on('click','a[href="#close"], .pZero .t396__filter',function(e){e.preventDefault();t390_closePopup(PopWindID.replace(/[^0-9]/gim, ""))}); 
     
 var observer = new MutationObserver(function (mutations) { 
    mutations.forEach(function (mutation) { 
        var newVal = $(mutation.target).prop(mutation.attributeName); 
        if (mutation.attributeName === "class") { 
            if(!$('.parpadding ').hasClass("t-popup_show")) {$(zeroid+' iframe').attr( 'src', function ( i, val ) { return val; });};  
            if($('.t-body').hasClass("t-body_success-popup-showed")) { 
             setTimeout(function(){t390_closePopup(PopWindID.replace(/[^0-9]/gim, ""));window.tildaForm.closeSuccessPopup();}, 1000); 
            };  
          };});}); 
observer.observe( document.body, {  attributes: true});  
});   
</script>